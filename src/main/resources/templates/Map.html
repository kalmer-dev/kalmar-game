<!DOCTYPE html>
<html>
<head>
    <script src="/webjars/jquery/jquery.min.js"></script>
    <script src="/webjars/sockjs-client/sockjs.min.js"></script>
    <script src="/webjars/stomp-websocket/stomp.min.js"></script>
    <script src="/scripts/GameSocket.js"></script>

    <title>2D Game Board</title>
    <link rel="stylesheet" href="/board.css">

</head>
<body onload="startTimer()">
<audio id="myAudio" th:src="@{/audioMap}" th:type="'audio/mpeg'" autoplay></audio>

<div id="timer"></div>

<script>
    function startTimer() {
        var timeLeft = 120;
        var countdownTimer = setInterval(function() {
            timeLeft--;
            document.getElementById("timer").innerHTML = "Hátralévő idő: " + timeLeft + " másodperc.";

            if (timeLeft <= 0) {
                clearInterval(countdownTimer);
                document.getElementById("timer").innerHTML = "Az idő lejárt!";
            }
        }, 1000);
    }
</script>
<div id="inventory">

    <h1>Inventory</h1>
    <h2 > Coins:  <span id="money">nem talált</span></h2>
    <h2>Tree:<span id="tree">nem talált</span></h2>
</div>

<table  class="game-container" translate="yes">
    <tbody id="table">
        <tr style="margin: 0" th:each="row, rowIdx : ${game.getGameMap.tiles}">
            <span th:each="element, colIdx : ${row}">
                <td style="padding: 0">
                    <div style="display: block">
                        <img style="display: block" th:src="@{${element.image}}"/>
                    </div>
                </td>
            </span>
        </tr>

    </tbody>
</table>
<div id="mycharacter"><img src="/Character/purpleShirtBoy.png" alt="karakter"></div>
<div class="game-container">
    <span id="posts"></span>
</div>
<div class="game-container">
<span id="others"></span>
</div>
<div id="shop" style="display: none">
    <h1>Shop</h1>
    <h2>Tree cost: <span id="treecost">he? </span> Buy: <label id="asd"></label>
    <input type="number" id="treenumber"></h2>
    <h2></h2>
    <h2></h2>'
    <button type="submit" onclick="shoping(); playSound('doorAudio');">Accept</button>
    <audio id="doorAudio" th:src="@{/audioDoor}" th:type="'audio/mpeg'"></audio>
</div>
<script>
    function playSound(name) {
        var audio = document.getElementById(name);
        audio.play();
    }
</script>
<div class="score" id="lose" style="display: none">
    <h1>LOSE</h1>
    <button onclick="okey()">OK</button>
</div>
<div class="score" id="win" style="display: none">
    <h1>WIN</h1>
    <button onclick="okey()">OK</button>
</div>
<div class="score" id="tie" style="display: none">
    <h1>TIE</h1>
    <button onclick="okey()">OK</button>
</div>

<div id="minGame" style="display: none">

    <img src="/RockPaperScissors/rock.png" style="display: inline" id="rock" onclick="choose('rock'); playSound('audioRock');"/>
    <img src="/RockPaperScissors/paper.png" style="display: inline" id="paper" onclick="choose('paper'); playSound('audioPaper');"/>
    <img src="/RockPaperScissors/scissors.png" style="display: inline" id="ollo" onclick="choose('ollo'); playSound('audioScissors');"/>

</div>

<script>connect('[[${game.identifier}]]', '[[${userName}]]')</script>

</body>
</html>